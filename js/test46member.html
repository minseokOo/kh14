<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원 가입 페이지</title>

    <!-- google font cdn -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">

    <!-- font awesome icon cdn -->
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">

    <!-- my css -->
    <link rel="stylesheet" type="text/css" href="./commons.css">
    <link rel="stylesheet" type="text/css" href="./test.css">
    <style>
        
    </style>

    <!-- jquery cdn -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="checkbox.js"></script>
    <script src="confirm-link.js"></script>
    <script src="multipage.js"></script>

    <!-- 자바스크립트 코드 작성 영역 -->
    <script type="text/javascript">
        $(function(){
            //상태 객체
            var status = {
                memberIdValid : false,
                memberPwValid : false,
                memberPwCheckValid : false,
                memberNicknameValid : false, 
                memberEmailValid : false,
                ok : function(){
                    return this.memberIdValid && this.memberPwValid
                                && this.memberPwCheckValid && this.memberNicknameValid 
                                && this.memberEmailValid;
                },
            };

            //입력창 검사
            $("[name=memberId]").blur(function(){
                var regex = /^[a-z][a-z0-9]{7,19}$/;
                var isValid = regex.test($(this).val());//this.value
                $(this).removeClass("success fail")
                            .addClass(isValid ? "success" : "fail");
                status.memberIdValid = isValid;
            });
            $("[name=memberPw]").blur(function(){
                var regex = /^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[!@#$])[A-Za-z0-9!@#$]{8,16}$/;
                var isValid = regex.test($(this).val());
                $(this).removeClass("success fail")
                            .addClass(isValid ? "success" : "fail");
                status.memberPwValid = isValid;
            });
            $("#password-check").blur(function(){
                var isValid = $("[name=memberPw]").val().length
                                && $(this).val() == $("[name=memberPw").val();
                $(this).removeClass("success fail")
                            .addClass(isValid ? "success" : "fail");
                status.memberPwCheckValid = isValid;
            });
            

            $("[name=memberEmail]").blur(function(){
                var isValid = $(this).val().length > 0;
                $(this).removeClass("success fail")
                            .addClass(isValid ? "success" : "fail");
                status.memberEmailValid = isValid;
            })

            //폼 검사
            $(".check-form").submit(function(){
                return status.ok();
            });
        });
    </script>
</head>
<body>
    <div class="container w-600 my-50">
        <div class="row center">
            <h1>회원 가입 페이지</h1>
        </div>
        <div class="row">
            <div class="progressbar"><div class="guage"></div></div>
        </div>

        <form class="check-form" action="" method="post"
                        autocomplete="off" enctype="multipart/form-data">

        <div class="row">
            <div class="multipage">
                <div class="page">
                    <div class="row">
                        <h2>1단계 : 아이디 입력</h2>
                    </div>
                    <div class="row">
                        <label>아이디</label>
                        <input type="text" name="memberId" class="field w-100"
                                    placeholder="영문소문자 시작, 숫자 포함 8~20자">
                        <div class="success-feedback">멋진 아이디입니다!</div>
                        <div class="fail-feedback">올바른 형식으로 작성해주세요</div>
                    </div>

                    <div class="row mt-50">
                        <div class="flex-box">
                            <div class="w-50 left">
                                
                            </div>
                            <div class="w-50 right">
                                <button type="button" class="btn btn-neutral btn-next">
                                    다음<i class="fa-solid fa-chevron-right"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="page">
                    <div class="row">
                        <h2>2단계 : 비밀번호 입력</h2>
                    </div>
                    <div class="row">
                        <label>비밀번호</label>
                        <input type="password" name="memberPw" class="field w-100"
                                    placeholder="영문 대소문자, 숫자, !@#$중 하나 반드시 포함">
                        <div class="success-feedback">올바른 형식입니다!</div>
                        <div class="fail-feedback">형식에 맞춰 8~16자로 작성하세요</div>
                    </div>
                    <div class="row">
                        <label>비밀번호 확인</label>
                        <input type="password" id="password-check" class="field w-100"
                                    placeholder="확인을 위해 비밀번호 한번 더 입력">
                        <div class="success-feedback">비밀번호가 일치합니다</div>
                        <div class="fail-feedback">비밀번호가 일치하지 않습니다</div>
                    </div>

                    <div class="row mt-50">
                        <div class="flex-box">
                            <div class="w-50 left">
                                <button type="button" class="btn btn-neutral btn-prev">
                                    <i class="fa-solid fa-chevron-left"></i>이전
                                </button>
                            </div>
                            <div class="w-50 right">
                                <button type="button" class="btn btn-neutral btn-next">
                                    다음<i class="fa-solid fa-chevron-right"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="page">
                    <h2>3단계 : 닉네임 입력</h2>
                    <div class="row">
                        <label>닉네임</label>
                        <input type="text" name="memberNickname" 
                                class="field w-100" placeholder="한글과 숫자로 2~10자 이내로 입력해주세요">
                    </div>
                    <div class="row mt-50">
                        <div class="flex-box">
                            <div class="w-50 left">
                                <button type="button" class="btn btn-neutral btn-prev">
                                    <i class="fa-solid fa-chevron-left"></i>이전
                                </button>
                            </div>
                            <div class="w-50 right">
                                <button type="button" class="btn btn-neutral btn-next">
                                    다음<i class="fa-solid fa-chevron-right"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="page">
                    <div class="row">
                        <h2>4단계 : 이메일 입력</h2>
                    </div>
                    <div class="row">
                        <label>이메일</label>
                        <input type="email" name="memberEmail" class="field w-100" placeholder="test@kh.com">
                        <div class="success-feedback"></div>
                        <div class="fail-feedback">이메일을 입력해주세요.</div>
                    </div>
                    <div class="row mt-50">
                        <div class="flex-box">
                            <div class="w-50 left">
                                <button type="button" class="btn btn-neutral btn-prev">
                                    <i class="fa-solid fa-chevron-left"></i>이전
                                </button>
                            </div>
                            <div class="w-50 right">
                                <button type="button" class="btn btn-neutral btn-next">
                                    다음<i class="fa-solid fa-chevron-right"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="page">
                    <h2>5단계 : 선택정보 입력</h2>

                    <div class="row mt-50">
                        <div class="flex-box">
                            <div class="w-50 left">
                                <button type="button" class="btn btn-neutral btn-prev">
                                    <i class="fa-solid fa-chevron-left"></i>이전
                                </button>
                            </div>
                            <div class="w-50 right">
                                <button type="button" class="btn btn-neutral btn-next">
                                    다음<i class="fa-solid fa-chevron-right"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="page">
                    <h2>6단계 : 주소 입력</h2>

                    <div class="row mt-50">
                        <div class="flex-box">
                            <div class="w-50 left">
                                <button type="button" class="btn btn-neutral btn-prev">
                                    <i class="fa-solid fa-chevron-left"></i>이전
                                </button>
                            </div>
                            <div class="w-50 right">
                                <button type="button" class="btn btn-neutral btn-next">
                                    다음<i class="fa-solid fa-chevron-right"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="page">
                    <h2>7단계 : 프로필 이미지 선택</h2>

                    <div class="row mt-50">
                        <div class="flex-box">
                            <div class="w-50 left">
                                <button type="button" class="btn btn-neutral btn-prev">
                                    <i class="fa-solid fa-chevron-left"></i>이전
                                </button>
                            </div>
                            <div class="w-50 right">
                                <button type="submit" class="btn btn-positive">
                                    <i class="fa-solid fa-right-to-bracket"></i>
                                    회원가입
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        </form>
    </div>
</body>
</html>