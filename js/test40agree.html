<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>제이쿼리(jQuery)</title>
    <link rel="stylesheet" type="text/css" href="./commons.css">
    <link rel="stylesheet" type="text/css" href="./test.css">
    <link rel="stylesheet" type="text/css"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <style>

    </style>

    <!-- jquery cdn -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <!-- 자바스크립트 작성 영역 -->
    <script type="text/javascript">
        $(function () {
            $(".check-all").change(function () {
                var checkAll = $(this).prop("checked");
                $(".check-item").prop("checked", checkAll)

                // change를 강제로 발생시켜서 연쇄적인 처리
                $(".check-item").trigger("change");
            });
            $(".check-required-all").change(function () {
                var checkRequired = $(this).prop("checked");
                $(".check-required-item").prop("checked", checkRequired)
                $(".check-item").trigger("change");
            });
            $(".check-item").change(function () {
                var requiredCount = $(".check-required-item:checked").length;
                var requiredCountAll = $(".check-required-item").length;
                var itemCount = $(".check-item:checked").length;
                var itemCountAll = $(".check-item").length;
                
                $(".check-required-all").prop("checked", requiredCount === requiredCountAll);
                $(".check-all").prop("checked", itemCount === itemCountAll);
            })
        });
        

    </script>
</head>

<body>
    <div class="container w-800 my-50">
        <div class="row center">
            <h1>이용약관 동의</h1>
        </div>
        <div class="row">
            <label>
                <input type="checkbox" class="check-item check-required-item">
                <span>(필수) 개인정보 취급방침에 동의합니다</span>
            </label>
        </div>
        <div class="row">
            <label>
                <input type="checkbox" class="check-item check-required-item">
                <span>(필수) 홈페이지 이용규칙을 준수합니다</span>
            </label>
        </div>
        <div class="row">
            <label>
                <input type="checkbox" class="check-item">
                <span>(선택) 이벤트성 정보 수신에 동의합니다</span>
            </label>
        </div>
        <div class="row">
            <label>
                <input type="checkbox" class="check-item">
                <span>(선택) 개인정보의 제 3자 제공에 대해 동의합니다</span>
            </label>
        </div>
        <hr>
        <div class="row">
            <label>
                <input type="checkbox" class="check-required-all">
                <span>필수 이용약관에 동의합니다</span>
            </label>
        </div>
        <div class="row">
            <label>
                <input type="checkbox" class="check-all">
                <span>전체 이용약관에 동의합니다</span>
            </label>
        </div>
    </div>
</body>

</html>